SQWOZ BAB КУПЕР
е




/* #include "freertos/FreeRTOS.h"

#include "freertos/task.h"

#include "freertos/queue.h"

  

TaskHandle_t Hello = NULL; // Дескриптор (хэндл) задачи

TaskHandle_t Hello1 = NULL; // Дескриптор (хэндл) задачи

  

static QueueHandle_t int_queue = NULL;

  

// Функция‑задача Hello_Task

void Hello_Task(void *arg){

    int r;

    while(1){

    for (int i = 0; i <= 100; i = i + 2)

    {

        xQueueSend(int_queue, &i, pdMS_TO_TICKS(0));

           // printf("otprav: %d\n", i);

        vTaskDelay(pdMS_TO_TICKS(30));

        xQueueReceive(int_queue, &r, pdMS_TO_TICKS(0));

    }

}

}

  

void Hello_Task1(void *arg){

    int prin;

    while(1){

        xQueueReceive(int_queue, &prin, portMAX_DELAY);

        printf("polychen: %d\n", prin);

        vTaskDelay(pdMS_TO_TICKS(70));

  

    }

}

 void print_task(void *arg)

{

  

}

void app_main(void) {

    // Создание задачи

    int_queue = xQueueCreate(2, sizeof(int));  // 10 элементов по 4 байта

    xTaskCreate(Hello_Task, "Hello0", 1024, NULL, 10, &Hello);

    xTaskCreate(Hello_Task1, "Hello1", 2048, NULL, 20, &Hello1);

} */

  
  

#include "freertos/FreeRTOS.h"

#include "freertos/task.h"

#include "freertos/semphr.h"

#include "driver/spi_master.h"

#include "driver/gpio.h"

#include "esp_log.h"

  

#define PIN_NUM_MISO  GPIO_NUM_NC  // Правильно: использовать GPIO_NUM_NC

#define PIN_NUM_MOSI  45

#define PIN_NUM_CLK   14

#define PIN_NUM_CS    3

#define PIN_NUM_DC    2

#define PIN_NUM_RST   46

  

static const char *TAG = "TFT_RTOSESP";

  

static spi_device_handle_t tft_spi;

static SemaphoreHandle_t tft_mutex;

  

// Безопасная отправка команды с проверкой mutex

static void tft_send_cmd(uint8_t cmd)

{

    if (xSemaphoreTake(tft_mutex, portMAX_DELAY) != pdTRUE) {

        return;

    }

    gpio_set_level(PIN_NUM_DC, 0);

    spi_transaction_t t = {

        .length = 8,

        .tx_buffer = &cmd

    };

    spi_device_transmit(tft_spi, &t);

    xSemaphoreGive(tft_mutex);

}

  

// Улучшенная функция отправки с объединением данных

static void tft_send_cmd_with_data(uint8_t cmd, const uint8_t *data, int len)

{

    if (xSemaphoreTake(tft_mutex, portMAX_DELAY) != pdTRUE) {

        return;

    }

    // Отправляем команду

    gpio_set_level(PIN_NUM_DC, 0);

    spi_transaction_t t_cmd = {

        .length = 8,

        .tx_buffer = &cmd

    };

    spi_device_transmit(tft_spi, &t_cmd);

    // Отправляем данные

    if (len > 0) {

        gpio_set_level(PIN_NUM_DC, 1);

        spi_transaction_t t_data = {

            .length = len * 8,

            .tx_buffer = data

        };

        spi_device_transmit(tft_spi, &t_data);

    }

    xSemaphoreGive(tft_mutex);

}

  

// Оптимизированная инициализация

static void tft_init_panel(void)

{

    // Объединяем данные для каждой команды

    tft_send_cmd_with_data(0x01, (uint8_t[]){0x00}, 1);

    vTaskDelay(pdMS_TO_TICKS(150));

    // Команда 0xCB с 5 байтами данных

    tft_send_cmd_with_data(0xCB, (uint8_t[]){0x39, 0x2C, 0x00, 0x34, 0x02}, 5);

    // Команда 0xCF с 3 байтами данных

    tft_send_cmd_with_data(0xCF, (uint8_t[]){0x00, 0xC1, 0x30}, 3);

    // Команда 0xE8 с 3 байтами данных

    tft_send_cmd_with_data(0xE8, (uint8_t[]){0x85, 0x00, 0x78}, 3);

    // Команда 0xEA с 2 байтами данных

    tft_send_cmd_with_data(0xEA, (uint8_t[]){0x00, 0x00}, 2);

    // Команда 0xED с 4 байтами данных

    tft_send_cmd_with_data(0xED, (uint8_t[]){0x64, 0x03, 0x12, 0x81}, 4);

    // Команда 0xF7 с 1 байтом данных

    tft_send_cmd_with_data(0xF7, (uint8_t[]){0x20}, 1);

    // Команда 0xC0 с 1 байтом данных

    tft_send_cmd_with_data(0xC0, (uint8_t[]){0x23}, 1);

    // Команда 0xC1 с 1 байтом данных

    tft_send_cmd_with_data(0xC1, (uint8_t[]){0x10}, 1);

    // Команда 0xC5 с 2 байтами данных

    tft_send_cmd_with_data(0xC5, (uint8_t[]){0x3E, 0x28}, 2);

    // Команда 0xC7 с 1 байтом данных

    tft_send_cmd_with_data(0xC7, (uint8_t[]){0x86}, 1);

    // Команда 0x36 с 1 байтом данных (ориентация)

    tft_send_cmd_with_data(0x36, (uint8_t[]){0x48}, 1);

    // Команда 0x3A с 1 байтом данных (цветовой формат - 0x55 = 16 бит)

    tft_send_cmd_with_data(0x3A, (uint8_t[]){0x55}, 1);

    // Команда 0xB1 с 2 байтами данных

    tft_send_cmd_with_data(0xB1, (uint8_t[]){0x00, 0x18}, 2);

    // Команда 0xB6 с 3 байтами данных

    tft_send_cmd_with_data(0xB6, (uint8_t[]){0x08, 0x82, 0x27}, 3);

    // Команда 0xF2 с 1 байтом данных

    tft_send_cmd_with_data(0xF2, (uint8_t[]){0x00}, 1);

    // Команда 0x26 с 1 байтом данных

    tft_send_cmd_with_data(0x26, (uint8_t[]){0x01}, 1);

    // Гамма-кривые (по 15 байт каждая)

    tft_send_cmd_with_data(0xE0, (uint8_t[]){0x0F, 0x31, 0x2B, 0x0C, 0x0E,

                                             0x08, 0x4E, 0xF1, 0x37, 0x07,

                                             0x10, 0x03, 0x0E, 0x09, 0x00}, 15);

    tft_send_cmd_with_data(0xE1, (uint8_t[]){0x00, 0x0E, 0x14, 0x03, 0x11,

                                             0x07, 0x31, 0xC1, 0x48, 0x08,

                                             0x0F, 0x0C, 0x31, 0x36, 0x0F}, 15);

    // Выход из сна

    tft_send_cmd_with_data(0x11, NULL, 0);

    vTaskDelay(pdMS_TO_TICKS(120));

    // Включение дисплея

    tft_send_cmd_with_data(0x29, NULL, 0);

}

  

/* static void tft_draw_pixel(uint16_t x, uint16_t y, uint16_t color)

{

    // 1. Устанавливаем область колонок (X координаты)

    // Отправляем команду 0x2A и 4 байта данных: x_start (2 байта) и x_end (2 байта)

    // Так как нам нужен только один пиксель, x_start = x, x_end = x

    uint8_t col_data[4] = {

        (x >> 8) & 0xFF, // Старший байт начальной X координаты

        x & 0xFF,        // Младший байт начальной X координаты

        (x >> 8) & 0xFF, // Старший байт конечной X координаты (та же)

        x & 0xFF         // Младший байт конечной X координаты (та же)

    };

    tft_send_cmd_with_data(0x2A, col_data, 4);

  

    // 2. Устанавливаем область строк (Y координаты)

    // Отправляем команду 0x2B и 4 байта данных: y_start (2 байта) и y_end (2 байта)

    uint8_t row_data[4] = {

        (y >> 8) & 0xFF, // Старший байт начальной Y координаты

        y & 0xFF,        // Младший байт начальной Y координаты

        (y >> 8) & 0xFF, // Старший байт конечной Y координаты (та же)

        y & 0xFF         // Младший байт конечной Y координаты (та же)

    };

    tft_send_cmd_with_data(0x2B, row_data, 4);

  

    // 3. Записываем цвет пикселя в память

    // Команда 0x2C переводит дисплей в режим записи данных

    tft_send_cmd(0x2C);

    // Отправляем цвет пикселя (2 байта для RGB565)

    uint8_t color_data[2] = {

        (color >> 8) & 0xFF, // Старший байт цвета

        color & 0xFF         // Младший байт цвета

    };

    tft_send_data(color_data, 2);

} */

  

// Пример заполнения экрана цветом

  
  
  

static void tft_fill_pixel(int x, int y, uint8_t color1, uint8_t color2)

{

        // 1. Устанавливаем область на весь экран

        uint8_t col_data[] = {

        (x >> 8) & 0xFF,  // Старший байт X

        x & 0xFF,         // Младший байт X

        (x >> 8) & 0xFF,  // Старший байт X (конец)

        x & 0xFF          // Младший байт X (конец)

    };

        uint8_t row_data[] = {

        (y >> 8) & 0xFF,  // Старший байт X

        y & 0xFF,         // Младший байт X

        (y >> 8) & 0xFF,  // Старший байт X (конец)

        y & 0xFF          // Младший байт X (конец)

    };

  uint8_t color_data[] = {color1, color2};

  

    tft_send_cmd_with_data(0x2A, col_data, 4);

    tft_send_cmd_with_data(0x2B, row_data, 4);

    tft_send_cmd(0x2C);

    if (xSemaphoreTake(tft_mutex, portMAX_DELAY) == pdTRUE) {

    gpio_set_level(PIN_NUM_DC, 1);

    spi_transaction_t t = {

        .length = 16,

        .tx_buffer = color_data

    };

    spi_device_transmit(tft_spi, &t);

     xSemaphoreGive(tft_mutex);

    }

  

    //ESP_LOGI(TAG, "Screen filled with black: %d bytes sent", bytes_to_send);

}

  
  
  
  

static void tft_fill_screen(void)

{

        // 1. Устанавливаем область на весь экран

    uint8_t col_data[] = {0x00, 0x00, 0x00, 0xEF}; // X: 0-319

    uint8_t row_data[] = {0x00, 0x00, 0x01, 0x3F}; // Y: 0-239

    tft_send_cmd_with_data(0x2A, col_data, 4);

    tft_send_cmd_with_data(0x2B, row_data, 4);

    tft_send_cmd(0x2C); // Memory write

    // 2. Создаем буфер с черным цветом

    #define BUF_SIZE 1024 // Отправляем по 1 КБ за раз

    // Важно: использовать DMA-совместимую память!

    uint8_t *buf = heap_caps_malloc(BUF_SIZE, MALLOC_CAP_DMA);

    if (!buf) {

        ESP_LOGE(TAG, "Failed to allocate buffer");

        return;

    }

    // Заполняем буфер нулями (черный цвет)

    //uint8_t color_data[] = {0xFF, 0xFF};

  

    memset(buf, 0, BUF_SIZE);

    // 3. Отправляем буфер много раз

    int bytes_to_send = 240 * 320 * 2; // Всего байт для отправки

    int remaining = bytes_to_send;

    while (remaining > 0) {

        int send_size = (remaining > BUF_SIZE) ? BUF_SIZE : remaining;

        // Отправляем кусок буфера

        if (xSemaphoreTake(tft_mutex, portMAX_DELAY) == pdTRUE) {

            gpio_set_level(PIN_NUM_DC, 1); // Режим данных

            spi_transaction_t t = {

                .length = send_size * 8,  // В битах

                .tx_buffer = buf

            };

            spi_device_transmit(tft_spi, &t);

            xSemaphoreGive(tft_mutex);

        }

        remaining -= send_size;

    }

    free(buf);

    //ESP_LOGI(TAG, "Screen filled with black: %d bytes sent", bytes_to_send);

}

  

static void tft_task(void *arg)

{

    tft_fill_screen();

    while (1) {

        for (int k = 0; k < 320  ; k = k + 1)

        {

            for (int x = 0; x < 240  ; x = x + 1 + k)

            {

                for (int y = 0; y <320  ; y = y  + x + k + 1)

                {

                    tft_fill_pixel(x, y, 0xFF, 0xFF);

                    vTaskDelay(pdMS_TO_TICKS(7));

                    //printf("%d, %d\n", x, y);

                }

            }

        }

        vTaskDelay(pdMS_TO_TICKS(500));

  

        for (int k = 0; k < 320  ; k = k + 1)

        {

            for (int x = 0; x < 240  ; x = x + 1 + k)

            {

                for (int y = 0; y <320  ; y = y  + x + k + 1)

                {

                    tft_fill_pixel(x, y, 0x00, 0x00);

                    vTaskDelay(pdMS_TO_TICKS(7));

                    //printf("%d, %d\n", x, y);

                }

            }

            vTaskDelay(pdMS_TO_TICKS(70));

        }

  

    }

}

  

void app_main(void)

{

    // Настройка GPIO для DC и RST

    gpio_config_t io_conf = {

        .pin_bit_mask = (1ULL << PIN_NUM_DC) | (1ULL << PIN_NUM_RST) | (1ULL << PIN_NUM_CS),

        .mode = GPIO_MODE_OUTPUT,

        .pull_up_en = GPIO_PULLUP_DISABLE,

        .pull_down_en = GPIO_PULLDOWN_DISABLE,

        .intr_type = GPIO_INTR_DISABLE

    };

    gpio_config(&io_conf);

    // CS по умолчанию неактивен (высокий уровень)

    gpio_set_level(PIN_NUM_CS, 1);

  

    // Аппаратный сброс

    gpio_set_level(PIN_NUM_RST, 0);

    vTaskDelay(pdMS_TO_TICKS(50));

    gpio_set_level(PIN_NUM_RST, 1);

    vTaskDelay(pdMS_TO_TICKS(50));

  

    // SPI шина

    spi_bus_config_t buscfg = {

        .miso_io_num = PIN_NUM_MISO,

        .mosi_io_num = PIN_NUM_MOSI,

        .sclk_io_num = PIN_NUM_CLK,

        .quadwp_io_num = -1,

        .quadhd_io_num = -1,

        .max_transfer_sz = 4096 // Увеличили для эффективности

    };

  

    esp_err_t ret = spi_bus_initialize(SPI2_HOST, &buscfg, SPI_DMA_CH_AUTO);

    if (ret != ESP_OK) {

        ESP_LOGE(TAG, "spi_bus_initialize failed: %d", ret);

        return;

    }

  

    spi_device_interface_config_t devcfg = {

        .clock_speed_hz = 26 * 1000 * 1000, // 26 МГц (более стабильно)

        .mode = 0,

        .spics_io_num = PIN_NUM_CS,

        .queue_size = 7,

        .flags = SPI_DEVICE_HALFDUPLEX

    };

  

    ret = spi_bus_add_device(SPI2_HOST, &devcfg, &tft_spi);

    if (ret != ESP_OK) {

        ESP_LOGE(TAG, "spi_bus_add_device failed: %d", ret);

        return;

    }

  

    tft_mutex = xSemaphoreCreateMutex();

    if (!tft_mutex) {

        ESP_LOGE(TAG, "Failed to create mutex");

        return;

    }

  

    // Инициализация дисплея

    tft_init_panel();

  

    // Создание задачи

    xTaskCreate(

        tft_task,

        "tft_task",

        16384 * 2, // Увеличили стек для работы с буферами

        NULL,

        5,

        NULL

    );

}



[env:freenove_esp32_s3_wroom]

platform = espressif32

board = freenove_esp32_s3_wroom

framework = espidf

monitor_speed = 115200








PIO Core Call Error: "Resolving esp32dev dependencies...\r\nAlready up-to-date.\r\nUpdating metadata for the vscode IDE...\r\n\n\nUserSideException: Processing esp32dev (platform: espressif32; framework: espidf; board: esp32dev)\r\n--------------------------------------------------------------------------------\r\nVerbose mode can be enabled via `-v, --verbose` option\r\nCONFIGURATION: https://docs.platformio.org/page/boards/espressif32/esp32dev.html\r\nPLATFORM: Espressif 32 (6.12.0) > Espressif ESP32 Dev Module\r\nHARDWARE: ESP32 240MHz, 320KB RAM, 4MB Flash\r\nDEBUG: Current (cmsis-dap) External (cmsis-dap, esp-bridge, esp-prog, iot-bus-jtag, jlink, minimodule, olimex-arm-usb-ocd, olimex-arm-usb-ocd-h, olimex-arm-usb-tiny-h, olimex-jtag-tiny, tumpa)\r\nPACKAGES: \r\n - framework-espidf @ 3.50500.0 (5.5.0) \r\n - tool-cmake @ 3.30.2 \r\n - tool-esp-rom-elfs @ 0.0.1+20241011 \r\n - tool-esptoolpy @ 2.40900.250804 (4.9.0) \r\n - tool-idf @ 1.0.1 \r\n - tool-mconf @ 1.4060000.20190628 (406.0.0) \r\n - tool-ninja @ 1.9.0 \r\n - tool-riscv32-esp-elf-gdb @ 11.2.0+20220823 \r\n - tool-xtensa-esp-elf-gdb @ 11.2.0+20230208 \r\n - toolchain-esp32ulp @ 1.23800.240113 (2.38.0) \r\n - toolchain-xtensa-esp-elf @ 14.2.0+20241119\r\nReading CMake configuration...\r\n-- Found Git: D:/games/Git/cmd/git.exe (found version \"2.53.0.windows.1\")\r\n-- Minimal build - OFF\r\n-- The C compiler identification is GNU 14.2.0\r\n-- The CXX compiler identification is GNU 14.2.0\r\n-- The ASM compiler identification is GNU\r\n-- Found assembler: C:/Users/IROUS/.platformio/packages/toolchain-xtensa-esp-elf/bin/xtensa-esp32-elf-gcc.exe\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Check for working C compiler: C:/Users/IROUS/.platformio/packages/toolchain-xtensa-esp-elf/bin/xtensa-esp32-elf-gcc.exe - skipped\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\n-- Detecting CXX compiler ABI info\r\n-- Detecting CXX compiler ABI info - done\r\n-- Check for working CXX compiler: C:/Users/IROUS/.platformio/packages/toolchain-xtensa-esp-elf/bin/xtensa-esp32-elf-g++.exe - skipped\r\n-- Detecting CXX compile features\r\n-- Detecting CXX compile features - done\r\n-- Could not use 'git describe' to determine PROJECT_VER.\r\n-- Building ESP-IDF components for target esp32\r\n-- Project sdkconfig file C:/Users/IROUS/Documents/PlatformIO/Projects/260224-230848-espidf-ulp-pulse/sdkconfig.esp32dev\r\nLoading defaults file C:/Users/IROUS/Documents/PlatformIO/Projects/260224-230848-espidf-ulp-pulse/sdkconfig.defaults...\r\n\r\n-- Compiler supported targets: xtensa-esp-elf\r\n-- Found Python3: C:/Users/IROUS/.platformio/penv/.espidf-5.5.0/Scripts/python.exe (found version \"3.11.7\") found components: Interpreter\r\n-- Performing Test CMAKE_HAVE_LIBC_PTHREAD\r\n-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Success\r\n-- Found Threads: TRUE\r\n-- Performing Test C_COMPILER_SUPPORTS_WFORMAT_SIGNEDNESS\r\n-- Performing Test C_COMPILER_SUPPORTS_WFORMAT_SIGNEDNESS - Success\r\n-- USING O3\r\n-- App \"espidf-ulp-pulse-new\" version: 1\r\n-- Adding linker script C:/Users/IROUS/Documents/PlatformIO/Projects/260224-230848-espidf-ulp-pulse/.pio/build/esp32dev/esp-idf/esp_system/ld/memory.ld\r\n-- Adding linker script C:/Users/IROUS/Documents/PlatformIO/Projects/260224-230848-espidf-ulp-pulse/.pio/build/esp32dev/esp-idf/esp_system/ld/sections.ld.in\r\n-- Adding linker script C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_rom/esp32/ld/esp32.rom.ld\r\n-- Adding linker script C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_rom/esp32/ld/esp32.rom.api.ld\r\n-- Adding linker script C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_rom/esp32/ld/esp32.rom.libgcc.ld\r\n-- Adding linker script C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_rom/esp32/ld/esp32.rom.newlib-data.ld\r\n-- Adding linker script C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_rom/esp32/ld/esp32.rom.syscalls.ld\r\n-- Adding linker script C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_rom/esp32/ld/esp32.rom.libc-funcs.ld\r\n-- Adding linker script C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_rom/esp32/ld/esp32.rom.newlib-reent-funcs.ld\r\n-- Adding linker script C:/Users/IROUS/.platformio/packages/framework-espidf/components/soc/esp32/ld/esp32.peripherals.ld\r\n-- Adding linker script C:/Users/IROUS/Documents/PlatformIO/Projects/260224-230848-espidf-ulp-pulse/.pio/build/esp32dev/esp-idf/src/ulp_main/ulp_main.ld\r\n-- Components: __pio_env app_trace app_update bootloader bootloader_support bt cmock console cxx driver efuse esp-tls esp_adc esp_app_format esp_bootloader_format esp_coex esp_common esp_driver_ana_cmpr esp_driver_bitscrambler esp_driver_cam esp_driver_dac esp_driver_gpio esp_driver_gptimer esp_driver_i2c esp_driver_i2s esp_driver_isp esp_driver_jpeg esp_driver_ledc esp_driver_mcpwm esp_driver_parlio esp_driver_pcnt esp_driver_ppa esp_driver_rmt esp_driver_sdio esp_driver_sdm esp_driver_sdmmc esp_driver_sdspi esp_driver_spi esp_driver_touch_sens esp_driver_tsens esp_driver_twai esp_driver_uart esp_driver_usb_serial_jtag esp_eth esp_event esp_gdbstub esp_hid esp_http_client esp_http_server esp_https_ota esp_https_server esp_hw_support esp_lcd esp_local_ctrl esp_mm esp_netif esp_netif_stack esp_partition esp_phy esp_pm esp_psram esp_ringbuf esp_rom esp_security esp_system esp_timer esp_vfs_console esp_wifi espcoredump esptool_py fatfs freertos hal heap http_parser idf_test ieee802154 json log lwip mbedtls mqtt newlib nvs_flash nvs_sec_provider openthread partition_table perfmon protobuf-c protocomm pthread rt sdmmc soc spi_flash spiffs src tcp_transport ulp unity usb vfs wear_levelling wifi_provisioning wpa_supplicant xtensa\r\n-- Component paths: C:/Users/IROUS/.platformio/packages/framework-espidf/components/__pio_env C:/Users/IROUS/.platformio/packages/framework-espidf/components/app_trace C:/Users/IROUS/.platformio/packages/framework-espidf/components/app_update C:/Users/IROUS/.platformio/packages/framework-espidf/components/bootloader C:/Users/IROUS/.platformio/packages/framework-espidf/components/bootloader_support C:/Users/IROUS/.platformio/packages/framework-espidf/components/bt C:/Users/IROUS/.platformio/packages/framework-espidf/components/cmock C:/Users/IROUS/.platformio/packages/framework-espidf/components/console C:/Users/IROUS/.platformio/packages/framework-espidf/components/cxx C:/Users/IROUS/.platformio/packages/framework-espidf/components/driver C:/Users/IROUS/.platformio/packages/framework-espidf/components/efuse C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp-tls C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_adc C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_app_format C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_bootloader_format C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_coex C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_common C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_driver_ana_cmpr C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_driver_bitscrambler C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_driver_cam C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_driver_dac C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_driver_gpio C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_driver_gptimer C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_driver_i2c C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_driver_i2s C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_driver_isp C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_driver_jpeg C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_driver_ledc C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_driver_mcpwm C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_driver_parlio C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_driver_pcnt C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_driver_ppa C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_driver_rmt C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_driver_sdio C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_driver_sdm C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_driver_sdmmc C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_driver_sdspi C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_driver_spi C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_driver_touch_sens C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_driver_tsens C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_driver_twai C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_driver_uart C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_driver_usb_serial_jtag C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_eth C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_event C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_gdbstub C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_hid C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_http_client C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_http_server C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_https_ota C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_https_server C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_hw_support C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_lcd C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_local_ctrl C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_mm C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_netif C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_netif_stack C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_partition C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_phy C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_pm C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_psram C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_ringbuf C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_rom C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_security C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_system C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_timer C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_vfs_console C:/Users/IROUS/.platformio/packages/framework-espidf/components/esp_wifi C:/Users/IROUS/.platformio/packages/framework-espidf/components/espcoredump C:/Users/IROUS/.platformio/packages/framework-espidf/components/esptool_py C:/Users/IROUS/.platformio/packages/framework-espidf/components/fatfs C:/Users/IROUS/.platformio/packages/framework-espidf/components/freertos C:/Users/IROUS/.platformio/packages/framework-espidf/components/hal C:/Users/IROUS/.platformio/packages/framework-espidf/components/heap C:/Users/IROUS/.platformio/packages/framework-espidf/components/http_parser C:/Users/IROUS/.platformio/packages/framework-espidf/components/idf_test C:/Users/IROUS/.platformio/packages/framework-espidf/components/ieee802154 C:/Users/IROUS/.platformio/packages/framework-espidf/components/json C:/Users/IROUS/.platformio/packages/framework-espidf/components/log C:/Users/IROUS/.platformio/packages/framework-espidf/components/lwip C:/Users/IROUS/.platformio/packages/framework-espidf/components/mbedtls C:/Users/IROUS/.platformio/packages/framework-espidf/components/mqtt C:/Users/IROUS/.platformio/packages/framework-espidf/components/newlib C:/Users/IROUS/.platformio/packages/framework-espidf/components/nvs_flash C:/Users/IROUS/.platformio/packages/framework-espidf/components/nvs_sec_provider C:/Users/IROUS/.platformio/packages/framework-espidf/components/openthread C:/Users/IROUS/.platformio/packages/framework-espidf/components/partition_table C:/Users/IROUS/.platformio/packages/framework-espidf/components/perfmon C:/Users/IROUS/.platformio/packages/framework-espidf/components/protobuf-c C:/Users/IROUS/.platformio/packages/framework-espidf/components/protocomm C:/Users/IROUS/.platformio/packages/framework-espidf/components/pthread C:/Users/IROUS/.platformio/packages/framework-espidf/components/rt C:/Users/IROUS/.platformio/packages/framework-espidf/components/sdmmc C:/Users/IROUS/.platformio/packages/framework-espidf/components/soc C:/Users/IROUS/.platformio/packages/framework-espidf/components/spi_flash C:/Users/IROUS/.platformio/packages/framework-espidf/components/spiffs C:/Users/IROUS/Documents/PlatformIO/Projects/260224-230848-espidf-ulp-pulse/src C:/Users/IROUS/.platformio/packages/framework-espidf/components/tcp_transport C:/Users/IROUS/.platformio/packages/framework-espidf/components/ulp C:/Users/IROUS/.platformio/packages/framework-espidf/components/unity C:/Users/IROUS/.platformio/packages/framework-espidf/components/usb C:/Users/IROUS/.platformio/packages/framework-espidf/components/vfs C:/Users/IROUS/.platformio/packages/framework-espidf/components/wear_levelling C:/Users/IROUS/.platformio/packages/framework-espidf/components/wifi_provisioning C:/Users/IROUS/.platformio/packages/framework-espidf/components/wpa_supplicant C:/Users/IROUS/.platformio/packages/framework-espidf/components/xtensa\r\n-- Configuring incomplete, errors occurred!\r\n\r\nCMake Error at .pio/build/esp32dev/CMakeFiles/git-data/grabRef.cmake:48 (file):\r\n file failed to open for reading (No such file or directory):\r\n\r\n C:/Users/IROUS/Documents/PlatformIO/Projects/260224-230848-espidf-ulp-pulse/.pio/build/esp32dev/CMakeFiles/git-data/head-ref\r\nCall Stack (most recent call first):\r\n C:/Users/IROUS/.platformio/packages/framework-espidf/tools/cmake/third_party/GetGitRevisionDescription.cmake:83 (include)\r\n C:/Users/IROUS/.platformio/packages/framework-espidf/tools/cmake/third_party/GetGitRevisionDescription.cmake:93 (get_git_head_revision)\r\n C:/Users/IROUS/.platformio/packages/framework-espidf/tools/cmake/build.cmake:99 (git_describe)\r\n C:/Users/IROUS/.platformio/packages/framework-espidf/tools/cmake/build.cmake:282 (__build_get_idf_git_revision)\r\n C:/Users/IROUS/.platformio/packages/framework-espidf/tools/cmake/idf.cmake:55 (__build_init)\r\n C:/Users/IROUS/.platformio/packages/framework-espidf/tools/cmake/project.cmake:29 (include)\r\n CMakeLists.txt:2 (include)\r\n\r\n\r\nCMake Error at .pio/build/esp32dev/CMakeFiles/git-data/grabRef.cmake:48 (file):\r\n file failed to open for reading (No such file or directory):\r\n\r\n C:/Users/IROUS/Documents/PlatformIO/Projects/260224-230848-espidf-ulp-pulse/.pio/build/esp32dev/CMakeFiles/git-data/head-ref\r\nCall Stack (most recent call first):\r\n C:/Users/IROUS/.platformio/packages/framework-espidf/tools/cmake/third_party/GetGitRevisionDescription.cmake:83 (include)\r\n C:/Users/IROUS/.platformio/packages/framework-espidf/tools/cmake/third_party/GetGitRevisionDescription.cmake:93 (get_git_head_revision)\r\n C:/Users/IROUS/.platformio/packages/framework-espidf/tools/cmake/project.cmake:719 (git_describe)\r\n CMakeLists.txt:3 (project)\r\n\r\n\r\nfatal: Needed a single revision\r\nfatal: not a git repository: C:/Users/IROUS/.platformio/packages/framework-espidf/components/openthread/openthread/../../../.git/modules/components/openthread/openthread\r\n\r\n========================= [FAILED] Took 11.36 seconds ========================="